<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PANDORA - Prompts Manager v2.0</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/themes/light.css">
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar">
        <div class="navbar-container">
            <div class="navbar-brand">
                <h1>üöÄ PANDORA</h1>
                <span class="version">v2.0</span>
            </div>

            <div class="navbar-menu">
                <button class="nav-item" onclick="UI.renderDashboard(); STATE.goToPage('dashboard')">
                    üè† –ì–ª–∞–≤–Ω–∞—è
                </button>
                <button class="nav-item" onclick="UI.renderPromptsPage(); STATE.goToPage('prompts')">
                    üìù –ü—Ä–æ–º–ø—Ç—ã
                </button>
                <button class="nav-item" onclick="UI.renderProjectsPage(); STATE.goToPage('projects')">
                    üìÅ –ü—Ä–æ–µ–∫—Ç—ã
                </button>
                <button class="nav-item" onclick="UI.renderSettingsPage(); STATE.goToPage('settings')">
                    ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                </button>
            </div>

            <div class="navbar-search">
                <input type="text" class="search-input" placeholder="üîç –ü–æ–∏—Å–∫..." 
                       onkeyup="UI.filterPrompts(this.value)">
            </div>
        </div>
    </nav>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main>
        <div id="app-container" class="app-container">
            <!-- –°—é–¥–∞ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <p>¬© 2025 PANDORA Prompts Manager v2.0</p>
            <p>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–º–ø—Ç–∞–º–∏ –∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏</p>
        </div>
    </footer>

    <!-- –ú–æ–¥—É–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <script src="js/modules/api.js"></script>
    <script src="js/modules/state.js"></script>
    <script src="js/modules/modal.js"></script>
    <script src="js/modules/ui.js"></script>

    <!-- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', async () => {
            console.log('üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ...');
            
            try {
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
                await STATE.initialize();
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ —Ö–µ—à—É
                const hash = window.location.hash.substring(1) || 'dashboard';
                
                if (hash === 'prompts') {
                    UI.renderPromptsPage();
                } else if (hash === 'projects') {
                    UI.renderProjectsPage();
                } else {
                    UI.renderDashboard();
                }

                console.log('‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≥—Ä—É–∂–µ–Ω–æ!');
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:', error);
                alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É.');
            }
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ —Ö–µ—à—É
        window.addEventListener('hashchange', () => {
            const hash = window.location.hash.substring(1) || 'dashboard';
            
            if (hash === 'prompts') {
                UI.renderPromptsPage();
            } else if (hash === 'projects') {
                UI.renderProjectsPage();
            } else {
                UI.renderDashboard();
            }
        });

        // –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
        STATE.subscribe((newState) => {
            console.log('üìä –°–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–æ:', newState);
        });
    </script>
</body>
</html>
